(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{44:function(e,t,a){e.exports=a(79)},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(24),c=a.n(r),l=a(2),o=a.n(l),i=a(4),u=a(9),d=a(10),p=a(12),m=a(11),f=a(13),v=a(6),h=a(18),b=a(19),E="FETCH_USERS",y="FETCH_USERS_SUCCESS",g="FETCH_USERS_FAILURE",k="ADD_USER",j="ADD_USER_SUCCESS",O="ADD_USER_FAILURE",U="UPDATE_USER",T="UPDATE_USER_SUCCESS",S="UPDATE_USER_FAILURE",C="DELETE_USER",w="DELETE_USER_SUCCESS",I="DELETE_USER_FAILURE",P="SELECT_USER",N=a(16),x=a(17),A=a.n(x),D="https://jsonplaceholder.typicode.com/users",_="https://jsonplaceholder.typicode.com/todos",L="https://jsonplaceholder.typicode.com/posts",R=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get(_);case 2:return a=e.sent,n=a.data,s=Math.max.apply(Math,Object(N.a)(n.map((function(e){return e.id})))),r=n.filter((function(e){return e.userId==t})),e.abrupt("return",{userTasks:r,lastId:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.get(L);case 2:return a=e.sent,n=a.data,s=Math.max.apply(Math,Object(N.a)(n.map((function(e){return e.id})))),r=n.filter((function(e){return e.userId==t})),e.abrupt("return",{userPosts:r,lastId:s});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M={getUsers:function(){return A.a.get(D)},getUserTasks:R,updateUser:function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put(D+"/"+t.id,t);case 3:a=e.sent,console.log(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.delete(D+"/"+t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserPosts:B,addUser:function(e){return A.a.post(D,e)},addPost:function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post(L,t);case 3:a=e.sent,console.log(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),addTodo:function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post(_,t);case 3:a=e.sent,console.log(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},F=function(e){return{type:y,payload:e}},W=function(e){return{type:g,payload:e}},z=function(e){return{type:j,payload:e}},H=function(e){return{type:O,payload:e}},J=function(e){return{type:T,payload:e}},Z=function(e){return{type:S,payload:e}},$=function(e){return{type:w,payload:e}},q=function(e){return{type:I,payload:e}},G=function(){return function(e){return M.getUsers().then((function(t){e(F(t.data))})).catch((function(t){e(W(t))})),e({type:E,payload:null})}},K=function(e,t,a,n){var s={id:e,name:t,email:a,address:n};return function(e){return M.addUser(s).then((function(){e(z(s))})).catch((function(t){e(H(t))})),e({type:k,payload:null})}},Q=function(e){return function(t){return M.updateUser(e).then((function(){t(J(e))})).catch((function(e){t(Z(e))})),t({type:U,payload:null})}},V=function(e){return function(t){return M.deleteUser(e).then((function(){t($(e))})).catch((function(e){t(q(e))})),{type:C,payload:null}}},X=function(e){return{type:P,payload:e}},Y=(a(71),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).markCompleted=function(){a.setState({completed:!0})},a.state={completed:a.props.task.completed,id:a.props.task.id,title:a.props.task.title},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e="";return this.state.completed||(e=s.a.createElement("div",null,s.a.createElement("input",{type:"button",value:"Mark Completed",onClick:this.markCompleted,className:"btn btn-warning"}))),s.a.createElement("div",{className:"todo",key:this.state.id},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("span",{className:"todoTitles"},"Title : "),this.state.title),s.a.createElement("div",null,s.a.createElement("span",{className:"todoTitles"},"Completed :")," ",this.state.completed.toString())),e)}}]),t}(n.Component)),ee=(a(72),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={id:a.props.post.id,title:a.props.post.title,body:a.props.post.body},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{key:this.state.id,className:"post"},s.a.createElement("div",null,s.a.createElement("span",{className:"postTitles"},"Title : "),this.state.title),s.a.createElement("div",null,s.a.createElement("span",{className:"postTitles"},"Body : "),this.state.body))}}]),t}(n.Component)),te=(a(73),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).toggleTasksAndPosts=function(){a.setState({showTasksAndPosts:!a.state.showTasksAndPosts,userBgColor:!a.state.userBgColor})},a.addTask=function(){var e=a.state.TasksLastId+1,t={completed:!1,userId:a.props.selectedUserId,title:a.state.newTaskTitle,id:e};M.addTodo(t);var n=[].concat(Object(N.a)(a.state.userTasks),[t]);a.setState({userTasks:n,TasksLastId:e})},a.addPost=function(){var e=a.state.postsLastId+1,t={userId:a.props.selectedUserId,title:a.state.newPostTitle,body:a.state.newPostBody,id:e};M.addPost(t);var n=[].concat(Object(N.a)(a.state.userPosts),[t]);a.setState({userPosts:n,postsLastId:e})},a.toggleAddTaskSection=function(){a.setState({addTask:!a.state.addTask})},a.toggleAddPostSection=function(){a.setState({addPost:!a.state.addPost})},a.setTaskTitle=function(e){a.setState({newTaskTitle:e.target.value})},a.setPostTitle=function(e){a.setState({newPostTitle:e.target.value})},a.setPostBody=function(e){a.setState({newPostBody:e.target.value})},a.state={userTasks:[],userPosts:[],TasksLastId:-1,newTaskTitle:"",postsLastId:-1,newPostTitle:"",newPostBody:"",allTasksCompleted:!0,showExtraDetails:!1,showTasksAndPosts:!1,userBgColor:!1,addTask:!1,addPost:!1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,n,s,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getUserTasks(this.props.selectedUserId);case 2:return n=e.sent,t=n.userTasks,s=n.lastId,this.setState({TasksLastId:s,userTasks:t}),t.some((function(e){return 0==e.completed}))&&this.setState({allTasksCompleted:!1}),e.next=9,M.getUserPosts(this.props.selectedUserId);case 9:r=e.sent,a=r.userPosts,c=r.lastId,this.setState({postsLastId:c,userPosts:a});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,n,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.selectedUserId==t.selectedUserId){e.next=12;break}return e.next=3,M.getUserTasks(this.props.selectedUserId);case 3:return s=e.sent,a=s.userTasks,this.setState({userTasks:a}),a.some((function(e){return 0==e.completed}))&&this.setState({allTasksCompleted:!1}),e.next=9,M.getUserPosts(this.props.selectedUserId);case 9:r=e.sent,n=r.userPosts,this.setState({userPosts:n});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,n;return this.state.addTask&&(a=s.a.createElement("div",null,s.a.createElement("div",{className:"titles"},"New Todo - User ",this.props.selectedUserId),s.a.createElement("div",{className:"addContainer"},s.a.createElement("div",null,s.a.createElement("div",null,"Title :"),s.a.createElement("input",{type:"text",onChange:this.setTaskTitle})),s.a.createElement("div",null,s.a.createElement("input",{type:"button",value:"Cancel",onClick:this.toggleAddTaskSection,className:"btn btn-warning"}),s.a.createElement("input",{type:"button",value:"Add",onClick:this.addTask,className:"btn btn-warning"}))))),this.props.selectedUserId&&!this.state.addTask&&(e=s.a.createElement("div",null,s.a.createElement("div",{className:"titlesContainer"},s.a.createElement("span",{className:"titles"},"Todos - User ",this.props.selectedUserId),s.a.createElement("input",{type:"button",value:"Add",onClick:this.toggleAddTaskSection,className:"btn btn-warning"})),s.a.createElement("div",{className:"todosAndPostsWrapper"},this.state.userTasks.map((function(e){return s.a.createElement(Y,{task:e,key:e.id})}))))),this.state.addPost&&(n=s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",{className:"titles"},"New Post - User ",this.props.selectedUserId),s.a.createElement("div",{className:"addContainer"},s.a.createElement("div",null,s.a.createElement("div",null,"Title :"),s.a.createElement("input",{type:"text",onChange:this.setPostTitle})),s.a.createElement("div",null,s.a.createElement("div",null,"Body :"),s.a.createElement("input",{type:"text",onChange:this.setPostBody})),s.a.createElement("div",null,s.a.createElement("input",{type:"button",value:"Cancel",onClick:this.toggleAddPostSection,className:"btn btn-warning"}),s.a.createElement("input",{type:"button",value:"Add",onClick:this.addPost,className:"btn btn-warning"})))))),this.props.selectedUserId&&!this.state.addPost&&(t=s.a.createElement("div",{className:"postContainer"},s.a.createElement("div",{className:"titlesContainer"},s.a.createElement("span",{className:"titles"},"Posts - User ",this.props.selectedUserId),s.a.createElement("input",{type:"button",value:"Add",onClick:this.toggleAddPostSection,className:"btn btn-warning"})),s.a.createElement("div",{className:"todosAndPostsWrapper"},this.state.userPosts.map((function(e){return s.a.createElement(ee,{post:e,key:e.id})}))))),s.a.createElement("div",{className:"todosAndPosts"},s.a.createElement("div",null," ",e),s.a.createElement("div",null,a),s.a.createElement("div",null,t),s.a.createElement("div",null,n))}}]),t}(n.Component)),ae=Object(v.b)((function(e){return{data:e,selectedUserId:e.selectedUserId}}))(te),ne=a(20),se=a(8);a(74);var re=function(e){var t=e.userData,a=Object(v.c)(),r=Object(n.useState)(t.name),c=Object(ne.a)(r,2),l=c[0],u=c[1],d=Object(n.useState)(t.email),p=Object(ne.a)(d,2),m=p[0],f=p[1],b=Object(n.useState)(t.address),E=Object(ne.a)(b,2),y=E[0],g=E[1],k=Object(n.useState)([]),j=Object(ne.a)(k,2),O=(j[0],j[1]),U=Object(n.useState)([]),T=Object(ne.a)(U,2),S=(T[0],T[1]),C=Object(n.useState)(!0),w=Object(ne.a)(C,2),I=w[0],P=w[1],N=Object(n.useState)(!1),x=Object(ne.a)(N,2),A=x[0],D=x[1],_=Object(v.d)((function(e){return e.selectedUserId}));Object(n.useEffect)((function(){u(t.name),f(t.email),g(t.address)}),[t]),Object(n.useEffect)((function(){Object(i.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getUserTasks(t.id);case 2:return a=e.sent,O(a.userTasks),a.userTasks.some((function(e){return!1===e.completed}))&&P(!1),e.next=7,M.getUserPosts(t.id);case 7:a=e.sent,S(a);case 9:case"end":return e.stop()}}),e)})))()}),[t.id]);var L=Object(n.useMemo)((function(){return A?s.a.createElement("div",null,s.a.createElement("div",{className:"userInputs"},s.a.createElement("label",null,"Street:"),s.a.createElement("input",{type:"text",onChange:function(e){return g(Object(se.a)({},y,{street:e.target.value}))},value:y.street})),s.a.createElement("div",{className:"userInputs"},s.a.createElement("label",null,"City:"),s.a.createElement("input",{type:"text",onChange:function(e){return g(Object(se.a)({},y,{city:e.target.value}))},value:y.city})),s.a.createElement("div",null,s.a.createElement("label",null,"Zip Code:"),s.a.createElement("input",{type:"text",onChange:function(e){return g(Object(se.a)({},y,{zipcode:e.target.value}))},value:y.zipcode}))):null}),[y,A]),R=Object(n.useMemo)((function(){return t.id===_}),[_,t.id]),B=Object(n.useMemo)((function(){return t.name!==l||t.email!==m}),[t.name,t.email,l,m]),F=Object(n.useMemo)((function(){return R?"orangeBg":""}),[R]),W=Object(n.useMemo)((function(){return I?"greenBorder":"redBorder"}),[I]);return s.a.createElement("div",{className:"userDetails ".concat(W," ").concat(F)},s.a.createElement("div",null,s.a.createElement(h.b,{to:"/todosAndPosts",onClick:function(){return a(X(t.id))}},"ID : ",t.id)),s.a.createElement("div",{className:"userInputs"},s.a.createElement("label",null,"Name :"),s.a.createElement("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)}})),s.a.createElement("div",null,s.a.createElement("label",null,"Email :"),s.a.createElement("input",{type:"email",onChange:function(e){return f(e.target.value)},value:m})),s.a.createElement("div",{className:"buttonsWrapper"},s.a.createElement("input",{type:"button",value:"Other Data",onClick:function(){return D(!A)},className:"btn btn-light"}),s.a.createElement("div",null,s.a.createElement("input",{type:"button",value:"Update",disabled:!B,onClick:function(){var e=Object(se.a)({},t,{name:l,email:m,address:y});a(Q(e))},className:"btn btn-warning"})," ",s.a.createElement("input",{type:"button",value:"Delete",onClick:function(){return a(V(t.id))},className:"btn btn-warning"}))),s.a.createElement("div",null,L))},ce=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={filterUsers:[]},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.users,n=t.loading,s=t.filterString;if(s!==e.filterString){var r=a.filter((function(e){return"".concat(e.name," ").concat(e.email).toLowerCase().includes(s)}));this.setState({filterUsers:r})}a.length!==e.users.length&&this.setState({users:a,filterUsers:a}),!n&&e.loading&&this.setState({filterUsers:a})}},{key:"render",value:function(){var e=this.state.filterUsers;return s.a.createElement("div",null,s.a.createElement("div",null,e.map((function(e){return s.a.createElement(re,{key:"user-".concat(e.id),userData:e})}))))}}]),t}(n.Component),le=Object(v.b)((function(e){return{users:e.users,loading:e.loading}}))(ce),oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).addUser=function(){var e=a.props,t=e.nextId,n=e.addUser,s=a.state;n(t,s.name,s.email,s.address)},a.setName=function(e){a.setState({name:e.target.value})},a.setEmail=function(e){a.setState({email:e.target.value})},a.state={name:"",email:"",address:{street:"",suite:"",city:"",zipcode:""}},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.loading,n=t.error;a||!e.loading||n||this.setState({name:"",email:""})}},{key:"render",value:function(){var e=this.props.loading,t=this.state,a=t.name,n=t.email;return s.a.createElement("div",null,s.a.createElement("div",{className:"addTitle titles"},"Add New User"),s.a.createElement("div",{className:"addContainer"},s.a.createElement("div",null,s.a.createElement("label",null,"Name : "),s.a.createElement("input",{value:a,type:"text",onChange:this.setName})),s.a.createElement("div",null,s.a.createElement("label",null,"Email : "),s.a.createElement("input",{value:n,type:"email",onChange:this.setEmail})),s.a.createElement("div",null,s.a.createElement(h.b,{to:"/"},s.a.createElement("input",{type:"button",value:"Cancel",className:"btn btn-warning",disabled:e})),s.a.createElement("input",{type:"button",value:"Add",onClick:this.addUser,disabled:e||!a||!n,className:"btn btn-warning"}))))}}]),t}(n.Component),ie=Object(v.b)((function(e){return{nextId:e.nextId,loading:e.loading,error:e.error}}),(function(e){return{addUser:function(t,a,n,s){return e(K(t,a,n,s))}}}))(oe),ue=(a(76),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).getData=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.fetchUsers();case 1:case"end":return e.stop()}}),e)}))),a.setFilter=function(e){a.setState({filterString:e.target.value})},a.state={filterString:""},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"usersContainer"},s.a.createElement("div",{className:"searchContainer"},s.a.createElement("label",{htmlFor:"search"},"Search :")," ",s.a.createElement("input",{type:"text",id:"search",onChange:this.setFilter}),s.a.createElement(h.b,{to:"/AddUser"},s.a.createElement("input",{type:"button",value:"Add",className:"btn btn-warning"}))),s.a.createElement(le,{filterString:this.state.filterString})),s.a.createElement(b.c,null,s.a.createElement(b.a,{path:"/TodosAndPosts",component:ae}),s.a.createElement(b.a,{path:"/AddUser",component:ie})))}}]),t}(n.Component)),de=Object(v.b)(null,(function(e){return{fetchUsers:function(){return e(G())}}}))(ue);a(77);var pe=function(){return s.a.createElement("div",null,s.a.createElement(de,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(78);var me=a(22),fe=a(42),ve=a(43),he={users:[],loading:!1,error:null,filterString:"",selectedUserId:"",nextId:0},be=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:case k:case U:case C:return Object(se.a)({},t,{loading:!0});case y:var n=Math.max.apply(Math,Object(N.a)(a.payload.map((function(e){return e.id}))))+1;return Object(se.a)({},t,{loading:!1,users:a.payload,nextId:n});case j:return e=[].concat(Object(N.a)(t.users),[a.payload]),Object(se.a)({},t,{users:e,loading:!1,nextId:t.nextId+1});case T:return e=t.users.map((function(e){return e.id===a.payload.id?a.payload:e})),Object(se.a)({},t,{loading:!1,users:e});case w:return e=t.users.filter((function(e){return e.id!==a.payload})),Object(se.a)({},t,{loading:!1,users:e});case O:case g:case S:case I:return Object(se.a)({},t,{loading:!1,error:a.payload});case P:return Object(se.a)({},t,{selectedUserId:a.payload});default:return t}},Ee=Object(me.createStore)(be,Object(ve.composeWithDevTools)(Object(me.applyMiddleware)(fe.a)));c.a.render(s.a.createElement(v.a,{store:Ee},s.a.createElement(h.a,null,s.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.bb0fb660.chunk.js.map